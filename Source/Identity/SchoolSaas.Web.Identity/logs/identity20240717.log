2024-07-17 09:33:03.032 +01:00 [INF] Seeding database...
2024-07-17 09:33:03.061 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:33:03.648 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:03.649 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:03.650 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:03.650 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:20.222 +01:00 [INF] Seeding database...
2024-07-17 09:33:20.256 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:33:21.221 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:21.225 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:21.226 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:21.227 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:33:27.343 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 09:33:27.346 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 09:33:27.347 +01:00 [INF] Hosting environment: Development
2024-07-17 09:33:27.348 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 09:33:29.262 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:29.610 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:29.930 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:29.933 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:30.053 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:38.261 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 09:33:38.503 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:38.507 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:33:38.509 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:33:38.545 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:38.556 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:33:38.576 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:39.355 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:39.357 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:33:39.359 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:33:39.362 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:39.364 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:33:39.610 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:40.410 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:40.413 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:33:40.414 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:33:40.416 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:40.418 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:33:40.424 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:33:47.776 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:47.778 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:33:47.779 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:33:47.781 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:33:47.782 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:33:47.798 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:34:12.952 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:34:23.074 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:34:23.076 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:34:23.077 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:34:23.078 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:37:50.514 +01:00 [INF] Seeding database...
2024-07-17 09:37:50.538 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:37:51.029 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:37:51.031 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:37:51.031 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:37:51.031 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:01.698 +01:00 [INF] Seeding database...
2024-07-17 09:38:01.726 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:38:02.202 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:02.203 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:02.203 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:02.203 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:08.617 +01:00 [INF] Seeding database...
2024-07-17 09:38:08.651 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:38:09.310 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:09.314 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:09.315 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:09.316 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:18.580 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 09:38:18.584 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 09:38:18.585 +01:00 [INF] Hosting environment: Development
2024-07-17 09:38:18.585 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 09:38:19.873 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.045 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.231 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.239 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.325 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.352 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 09:38:20.602 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.605 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:38:20.608 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:38:20.636 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.645 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:38:20.670 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.677 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.678 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:38:20.680 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:38:20.682 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.684 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:38:20.736 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.738 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.739 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:38:20.740 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:38:20.742 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.743 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:38:20.749 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:20.751 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.752 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:38:20.753 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:38:20.754 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:38:20.755 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:38:20.807 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:26.089 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:38:26.207 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:26.209 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:26.210 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:26.211 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:38:49.075 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:40:51.178 +01:00 [INF] Seeding database...
2024-07-17 09:40:51.203 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:40:51.660 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:51.661 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:51.661 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:51.661 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:58.239 +01:00 [INF] Seeding database...
2024-07-17 09:40:58.272 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 09:40:58.943 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:58.947 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:58.949 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:40:58.950 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:41:14.826 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 09:41:14.829 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 09:41:14.830 +01:00 [INF] Hosting environment: Development
2024-07-17 09:41:14.831 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 09:41:15.956 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:16.124 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:16.336 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:16.342 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:16.459 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:17.463 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 09:41:17.631 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:17.634 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:17.636 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:17.661 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:17.670 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:17.685 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:19.606 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:19.607 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:19.608 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:19.610 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:19.611 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:19.721 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:20.903 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:20.904 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:20.906 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:20.909 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:20.910 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:20.914 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:22.296 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:22.298 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:22.300 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:22.301 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:22.303 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:22.400 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:25.946 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:28.283 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:28.285 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:28.286 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:28.287 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:28.288 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:34.411 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 09:41:35.549 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request ValidateTokenQuery
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12709: CanReadToken() returned false. JWT is not well formed.
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadToken(String token)
   at JwtTokenHandler.DecodeToken(String token) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\JwtTokenHandler.cs:line 37
   at SchoolSaas.Infrastructure.Identity.Helpers.TokenValidationService.Validate(String token) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Helpers\TokenValidationService.cs:line 46
   at SchoolSaas.Application.Identity.Helper.ValidateTokenQueryHandler.Handle(ValidateTokenQuery request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\Helper\ValidateTokenQuery.cs:line 28
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 09:41:35.704 +01:00 [ERR] IDX12709: CanReadToken() returned false. JWT is not well formed.
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12709: CanReadToken() returned false. JWT is not well formed.
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadToken(String token)
   at JwtTokenHandler.DecodeToken(String token) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\JwtTokenHandler.cs:line 37
   at SchoolSaas.Infrastructure.Identity.Helpers.TokenValidationService.Validate(String token) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Helpers\TokenValidationService.cs:line 46
   at SchoolSaas.Application.Identity.Helper.ValidateTokenQueryHandler.Handle(ValidateTokenQuery request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\Helper\ValidateTokenQuery.cs:line 28
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.HelperController.Validate(String token) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\HelperController.cs:line 36
   at lambda_method1926(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 09:41:52.807 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 09:41:55.283 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:55.285 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 09:41:55.286 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 09:41:55.287 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 09:41:55.288 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 09:41:56.725 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 09:41:58.363 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:41:58.365 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:41:58.366 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:41:58.367 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 09:42:00.730 +01:00 [WRN] SchoolSaas Long Running Request: ValidateTokenQuery (4003 milliseconds)  
2024-07-17 10:01:31.017 +01:00 [INF] Seeding database...
2024-07-17 10:01:31.044 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:01:31.501 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:31.503 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:31.503 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:31.503 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:38.214 +01:00 [INF] Seeding database...
2024-07-17 10:01:38.248 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:01:38.855 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:38.859 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:38.860 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:38.861 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:01:46.687 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:01:46.691 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:01:46.692 +01:00 [INF] Hosting environment: Development
2024-07-17 10:01:46.693 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:01:47.877 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:48.100 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:48.389 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:48.396 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:48.511 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:50.514 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:01:50.699 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:50.705 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:01:50.708 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:01:50.748 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:50.768 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:01:50.786 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:51.885 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:51.887 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:01:51.888 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:01:51.890 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:51.892 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:01:52.015 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:53.019 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:53.021 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:01:53.025 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:01:53.027 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:53.028 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:01:53.033 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:54.002 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:54.004 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:01:54.005 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:01:54.006 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:01:54.008 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:01:54.076 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:01:58.639 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:02:00.518 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:02:00.520 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:02:00.522 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:02:00.524 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:02:00.525 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:02:01.664 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 10:02:03.251 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:02:03.253 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:02:03.255 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:02:03.257 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:02:07.580 +01:00 [WRN] SchoolSaas Long Running Request: ValidateTokenQuery (5902 milliseconds)  
2024-07-17 10:16:59.139 +01:00 [INF] Seeding database...
2024-07-17 10:16:59.164 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:16:59.621 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:16:59.622 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:16:59.622 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:16:59.622 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:06.197 +01:00 [INF] Seeding database...
2024-07-17 10:17:06.232 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:17:06.844 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:06.848 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:06.849 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:06.850 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:11.552 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:17:11.555 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:17:11.558 +01:00 [INF] Hosting environment: Development
2024-07-17 10:17:11.558 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:17:13.180 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.372 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.555 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.562 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.663 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.688 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:17:13.918 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:13.923 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:17:13.928 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:17:13.962 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:13.973 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:17:13.988 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:13.995 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:13.996 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:17:13.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:17:14.001 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:14.003 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:17:14.054 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:14.056 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:14.058 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:17:14.059 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:17:14.061 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:14.062 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:17:14.068 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:14.070 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:14.071 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:17:14.073 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:17:14.074 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:17:14.075 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:17:14.127 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:23.878 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:24.001 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:24.003 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:24.004 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:24.005 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:17:41.864 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:17:58.375 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:20:52.943 +01:00 [INF] Seeding database...
2024-07-17 10:20:52.972 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:20:53.470 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:20:53.472 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:20:53.472 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:20:53.472 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:00.447 +01:00 [INF] Seeding database...
2024-07-17 10:21:00.482 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:21:01.140 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:01.145 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:01.147 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:01.148 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:04.128 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:21:04.131 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:21:04.132 +01:00 [INF] Hosting environment: Development
2024-07-17 10:21:04.133 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:21:05.291 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:05.449 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:05.653 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:05.653 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:05.733 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:10.686 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:21:10.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:10.845 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:21:10.847 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:21:10.872 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:10.882 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:21:10.894 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:11.761 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:11.763 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:21:11.764 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:21:11.766 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:11.767 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:21:11.879 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:13.277 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:13.279 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:21:13.282 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:21:13.284 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:13.285 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:21:13.289 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:15.263 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:15.265 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:21:15.266 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:21:15.268 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:21:15.269 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:21:15.335 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:19.159 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:21:29.735 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:29.737 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:29.738 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:21:29.739 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:22:03.426 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:35.400 +01:00 [INF] Seeding database...
2024-07-17 10:27:35.426 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:27:35.899 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:35.901 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:35.901 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:35.901 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:42.614 +01:00 [INF] Seeding database...
2024-07-17 10:27:42.651 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:27:43.330 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:43.334 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:43.335 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:43.336 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:27:46.310 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:27:46.313 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:27:46.314 +01:00 [INF] Hosting environment: Development
2024-07-17 10:27:46.315 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:27:47.641 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:47.806 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:47.995 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:48.004 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:48.148 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:50.288 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:27:50.475 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:50.481 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:27:50.486 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:27:50.526 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:50.541 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:27:50.558 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:51.210 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:51.212 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:27:51.213 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:27:51.215 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:51.216 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:27:51.334 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:52.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:53.000 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:27:53.001 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:27:53.003 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:53.004 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:27:53.010 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:27:54.007 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:54.009 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:27:54.010 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:27:54.012 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:27:54.013 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:27:54.086 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:28:06.368 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:28:19.843 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:28:19.845 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:28:19.846 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:28:19.848 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:09.589 +01:00 [INF] Seeding database...
2024-07-17 10:31:09.616 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:31:10.114 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:10.115 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:10.115 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:10.115 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:16.515 +01:00 [INF] Seeding database...
2024-07-17 10:31:16.549 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:31:17.133 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:17.137 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:17.139 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:17.140 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:31:20.090 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:31:20.093 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:31:20.094 +01:00 [INF] Hosting environment: Development
2024-07-17 10:31:20.095 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:31:21.267 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:21.433 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:21.653 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:21.661 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:21.756 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:21.764 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-bundle.js.map
2024-07-17 10:31:22.919 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:31:23.156 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:23.160 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:31:23.164 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:31:23.201 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:23.211 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:31:23.225 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:23.227 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-bundle.js.map
2024-07-17 10:31:25.859 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:25.861 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:31:25.862 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:31:25.863 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:25.865 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:31:25.973 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:25.974 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-standalone-preset.js.map
2024-07-17 10:31:27.106 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:27.108 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:31:27.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:31:27.111 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:27.112 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:31:27.116 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:27.117 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-standalone-preset.js.map
2024-07-17 10:31:28.227 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:28.229 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:31:28.230 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:31:28.232 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:31:28.233 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:31:28.297 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:31.505 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:31:31.509 +01:00 [INF] Endpoint is null for request path: /token/validate
2024-07-17 10:34:28.407 +01:00 [INF] Seeding database...
2024-07-17 10:34:28.437 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:34:28.918 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:28.919 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:28.919 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:28.919 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:35.252 +01:00 [INF] Seeding database...
2024-07-17 10:34:35.285 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:34:35.860 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:35.864 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:35.865 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:35.866 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:34:38.745 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:34:38.748 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:34:38.749 +01:00 [INF] Hosting environment: Development
2024-07-17 10:34:38.750 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:34:39.938 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:40.085 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:40.270 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:40.280 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:40.424 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:40.429 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-bundle.js.map
2024-07-17 10:34:42.368 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:34:42.592 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:42.598 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:34:42.602 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:34:42.649 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:42.660 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:34:42.673 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:42.674 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-bundle.js.map
2024-07-17 10:34:44.346 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:44.348 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:34:44.349 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:34:44.350 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:44.352 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:34:44.476 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:44.478 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-standalone-preset.js.map
2024-07-17 10:34:45.507 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:45.512 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:34:45.514 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:34:45.516 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:45.517 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:34:45.522 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:45.523 +01:00 [INF] Endpoint is null for request path: /swagger/swagger-ui-standalone-preset.js.map
2024-07-17 10:34:47.782 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:47.784 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:34:47.785 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:34:47.786 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:34:47.787 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:34:47.851 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:51.762 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:34:51.764 +01:00 [INF] Endpoint is null for request path: /token/validate
2024-07-17 10:35:35.473 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:35:35.475 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:35:35.476 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:35:35.477 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:35:39.760 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:36:15.348 +01:00 [INF] Endpoint is null for request path: /token/validate
2024-07-17 10:37:13.522 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:40:41.577 +01:00 [INF] Adding path to SkipValidationPaths: /Helper/ValidateToken
2024-07-17 10:40:41.583 +01:00 [INF] Adding path to SkipValidationPaths: /Helper/Validate
2024-07-17 10:40:48.423 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:41:01.168 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:42:14.218 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:46:07.632 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:46:38.292 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:47:15.598 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:47:47.368 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:53:44.039 +01:00 [INF] Seeding database...
2024-07-17 10:53:44.066 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:53:44.539 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:44.540 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:44.540 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:44.540 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:51.817 +01:00 [INF] Seeding database...
2024-07-17 10:53:51.852 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 10:53:52.482 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:52.486 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:52.487 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:52.488 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:53:55.448 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 10:53:55.451 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 10:53:55.453 +01:00 [INF] Hosting environment: Development
2024-07-17 10:53:55.454 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 10:53:56.762 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:53:56.917 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:53:57.336 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:53:57.337 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:53:57.481 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:54:01.272 +01:00 [INF] Adding path to SkipValidationPaths: api/[controller]/ValidateToken
2024-07-17 10:54:01.273 +01:00 [INF] Adding path to SkipValidationPaths: api/[controller]/Validate
2024-07-17 10:54:01.285 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 10:54:01.484 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:01.489 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:54:01.493 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:54:01.523 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:01.533 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:54:01.545 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:54:02.263 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:02.265 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:54:02.266 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:54:02.267 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:02.269 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:54:02.374 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:54:02.944 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:02.945 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:54:02.946 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:54:02.948 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:02.949 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:54:02.953 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:54:03.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:03.825 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 10:54:03.826 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 10:54:03.828 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 10:54:03.829 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 10:54:03.890 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:54:11.959 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:55:28.722 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:55:28.724 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:55:28.725 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:55:28.726 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 10:55:35.410 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 10:59:40.064 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at SchoolSaas.Web.IdentityService.Helpers.SkipValidationMiddleware.InvokeAsync(HttpContext context)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-07-17 11:00:52.497 +01:00 [INF] Adding path to SkipValidationPaths: api/[controller]/Microsoft.AspNetCore.Mvc.HttpHeadAttribute[]
2024-07-17 11:01:04.685 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:01:18.156 +01:00 [INF] Adding path to SkipValidationPaths: api/[controller]/
2024-07-17 11:06:12.120 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:07:29.456 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:08:13.858 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:08:29.134 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:08:29.136 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:08:29.137 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:08:29.138 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:08:29.139 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:08:30.170 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 11:08:32.143 +01:00 [WRN] SchoolSaas Long Running Request: ValidateTokenQuery (1965 milliseconds)  
2024-07-17 11:09:49.767 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:09:56.735 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:09:56.736 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:09:56.737 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:09:56.739 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:09:56.740 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:09:57.625 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 11:09:59.756 +01:00 [WRN] SchoolSaas Long Running Request: ValidateTokenQuery (2127 milliseconds)  
2024-07-17 11:10:38.720 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:10:46.669 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:10:46.698 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:10:46.700 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:10:46.701 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:10:46.702 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:10:47.534 +01:00 [INF] SchoolSaas Request: ValidateTokenQuery  
2024-07-17 11:10:54.753 +01:00 [WRN] SchoolSaas Long Running Request: ValidateTokenQuery (7216 milliseconds)  
2024-07-17 11:11:58.971 +01:00 [INF] Seeding database...
2024-07-17 11:11:58.999 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:11:59.482 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:11:59.483 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:11:59.483 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:11:59.483 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:13.924 +01:00 [INF] Seeding database...
2024-07-17 11:14:13.951 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:14:14.458 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:14.460 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:14.460 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:14.460 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:23.569 +01:00 [INF] Seeding database...
2024-07-17 11:14:23.605 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:14:24.236 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:24.240 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:24.241 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:24.243 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:14:27.651 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 11:14:27.655 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:14:27.657 +01:00 [INF] Hosting environment: Development
2024-07-17 11:14:27.659 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 11:14:28.654 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:28.861 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:29.261 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:29.269 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:29.409 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:35.867 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 11:14:36.137 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:36.143 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:14:36.147 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:14:36.209 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:36.236 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:14:36.278 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:40.754 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:40.757 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:14:40.760 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:14:40.762 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:40.765 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:14:43.216 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:54.224 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:55.908 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:55.922 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:14:55.923 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:14:55.925 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:55.927 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:14:55.933 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:14:59.420 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:59.422 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:14:59.424 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:14:59.427 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:14:59.430 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:16:09.710 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:16:27.547 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:16:27.549 +01:00 [INF] The request URI matched a server endpoint: "Configuration".
2024-07-17 11:16:27.552 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:16:27.553 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:16:27.557 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractConfigurationRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractGetRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractConfigurationRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.561 +01:00 [INF] The configuration request was successfully extracted: {}.
2024-07-17 11:16:27.562 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ExtractConfigurationRequest.
2024-07-17 11:16:27.565 +01:00 [INF] The configuration request was successfully validated.
2024-07-17 11:16:27.565 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ValidateConfigurationRequest.
2024-07-17 11:16:27.569 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachIssuer.
2024-07-17 11:16:27.571 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachEndpoints.
2024-07-17 11:16:27.572 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachGrantTypes.
2024-07-17 11:16:27.574 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachResponseModes.
2024-07-17 11:16:27.575 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachResponseTypes.
2024-07-17 11:16:27.576 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachClientAuthenticationMethods.
2024-07-17 11:16:27.577 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachCodeChallengeMethods.
2024-07-17 11:16:27.579 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachScopes.
2024-07-17 11:16:27.580 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachClaims.
2024-07-17 11:16:27.582 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachSubjectTypes.
2024-07-17 11:16:27.584 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachSigningAlgorithms.
2024-07-17 11:16:27.586 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleConfigurationRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachAdditionalMetadata.
2024-07-17 11:16:27.589 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+HandleConfigurationRequest.
2024-07-17 11:16:27.593 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.595 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.598 +01:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "http://localhost:4480/",
  "authorization_endpoint": "http://localhost:4480/connect/authorize",
  "token_endpoint": "http://localhost:4480/connect/token",
  "introspection_endpoint": "http://localhost:4480/connect/introspect",
  "end_session_endpoint": "http://localhost:4480/connect/logout",
  "userinfo_endpoint": "http://localhost:4480/connect/userinfo",
  "device_authorization_endpoint": "http://localhost:4480/connect/device",
  "jwks_uri": "http://localhost:4480/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "urn:ietf:params:oauth:grant-type:device_code",
    "implicit",
    "refresh_token",
    "password"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "EConculsatMA",
    "BackOffice"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_post",
    "private_key_jwt",
    "client_secret_basic"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_post",
    "private_key_jwt",
    "client_secret_basic"
  ],
  "device_authorization_endpoint_auth_methods_supported": [
    "client_secret_post",
    "private_key_jwt",
    "client_secret_basic"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2024-07-17 11:16:27.600 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.602 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyConfigurationResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.603 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ApplyConfigurationResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.604 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ApplyConfigurationResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:27.610 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:16:44.805 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:16:44.806 +01:00 [INF] The request URI matched a server endpoint: "Cryptography".
2024-07-17 11:16:44.808 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:16:44.809 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:16:44.811 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractCryptographyRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractGetRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractCryptographyRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.813 +01:00 [INF] The cryptography request was successfully extracted: {}.
2024-07-17 11:16:44.813 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ExtractCryptographyRequest.
2024-07-17 11:16:44.816 +01:00 [INF] The cryptography request was successfully validated.
2024-07-17 11:16:44.816 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ValidateCryptographyRequest.
2024-07-17 11:16:44.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleCryptographyRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+AttachSigningKeys.
2024-07-17 11:16:44.826 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+HandleCryptographyRequest.
2024-07-17 11:16:44.828 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.832 +01:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "01BHSJL6P5EHBR6045IXF5B6SNY-CGE9DHE9H9KD",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "01bHSJL6p5EHbR6045iXf5b6sNY-CGE9dhE9H9KDi8GmbmY75agr2MDonQZOkpzI0l1F_OK2Z67ifFXDMb18Dv7MbcUxTINFCMWlPdWa6H-eO2QI68v3r9rUkOuquQegW40SHSm03cyc1SP2lmb2psLhaoICnPf12Poth1fOMD_BiKxNB9zvHxu436Vw403O1K2d-oesL8bJI1QNdURaiLKA0MnRK9M6OxoYJ5sDjvGcKlovBPkHo7v9f-stuRiwWESs_x3SWj3mZamLf9McR9d7kpoW7d81mdrI5WYCnhKoZxr3W0tYyLKQugfvk_8QoDZ24DyvuCargPoli1PXSQ"
    }
  ]
}.
2024-07-17 11:16:44.833 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyCryptographyResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ApplyCryptographyResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:16:44.837 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Discovery+ApplyCryptographyResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:37:55.413 +01:00 [INF] Seeding database...
2024-07-17 11:37:55.445 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:37:56.181 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:37:56.185 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:37:56.186 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:37:56.187 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:44:20.683 +01:00 [ERR] Failed executing DbCommand (382,078ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationType], [o].[ClientId], [o].[ClientSecret], [o].[ClientType], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[JsonWebKeySet], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Settings]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2024-07-17 11:44:20.707 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolSaas.Infrastructure.Identity.Context.FrontOfficeIdentityContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a9f5210-c23b-464a-a6a7-d8fe36c14220
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a9f5210-c23b-464a-a6a7-d8fe36c14220
Error Number:-2,State:0,Class:11
2024-07-17 11:44:22.395 +01:00 [FTL] Unhandled exception
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictApplicationCache`1.<>c__DisplayClass6_0.<<FindByClientIdAsync>g__ExecuteAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at OpenIddict.Core.OpenIddictApplicationManager`1.FindByClientIdAsync(String identifier, CancellationToken cancellationToken)
   at OpenIddict.Core.OpenIddictApplicationManager`1.OpenIddict.Abstractions.IOpenIddictApplicationManager.FindByClientIdAsync(String identifier, CancellationToken cancellationToken)
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 47
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
ClientConnectionId:4a9f5210-c23b-464a-a6a7-d8fe36c14220
Error Number:-2,State:0,Class:11
2024-07-17 11:44:24.803 +01:00 [INF] Shut down complete
2024-07-17 11:46:38.747 +01:00 [INF] Seeding database...
2024-07-17 11:46:38.795 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:46:39.470 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:46:39.473 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:46:39.474 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:46:39.475 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:46:44.152 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 11:46:44.156 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:46:44.157 +01:00 [INF] Hosting environment: Development
2024-07-17 11:46:44.158 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 11:46:45.488 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:45.722 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:45.923 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:45.932 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:46.041 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:54.704 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 11:46:54.851 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:54.855 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:46:54.857 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:46:54.880 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:54.887 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:46:54.901 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:54.908 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:54.910 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:46:54.912 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:46:54.913 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:54.915 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:46:55.014 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:55.016 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:55.017 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:46:55.019 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:46:55.020 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:55.021 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:46:55.025 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:46:55.026 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:55.027 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:46:55.029 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:46:55.030 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:46:55.031 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:46:55.079 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:51:11.188 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:51:11.196 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:51:11.197 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:51:11.199 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:51:11.200 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:51:11.201 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:51:11.206 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:51:11.208 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 11:51:11.210 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 11:51:11.212 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 11:51:11.214 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 11:51:11.217 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 11:51:11.218 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 11:51:11.221 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 11:51:11.279 +01:00 [INF] SchoolSaas Request: CreateFoUserCommand  
2024-07-17 11:52:23.625 +01:00 [INF] Seeding database...
2024-07-17 11:52:23.650 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:52:24.112 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:24.114 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:24.114 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:24.114 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:33.695 +01:00 [INF] Seeding database...
2024-07-17 11:52:33.730 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 11:52:34.361 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:34.364 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:34.366 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:34.367 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 11:52:38.390 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 11:52:38.392 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:52:38.394 +01:00 [INF] Hosting environment: Development
2024-07-17 11:52:38.395 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 11:52:39.775 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:40.092 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:40.371 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:40.376 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:40.478 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:40.502 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 11:52:40.984 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:40.990 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:52:40.995 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:52:41.847 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.857 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:52:41.870 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:41.877 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.878 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:52:41.879 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:52:41.881 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.882 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:52:41.924 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:41.926 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.928 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:52:41.929 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:52:41.931 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.932 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:52:41.936 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:52:41.938 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.939 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:52:41.940 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:52:41.942 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:52:41.943 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:52:41.992 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:54:47.699 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:54:47.707 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:54:47.708 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:54:47.709 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:54:47.710 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:54:47.711 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:54:47.716 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:54:47.718 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 11:54:47.719 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 11:54:47.721 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 11:54:47.723 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 11:54:47.726 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 11:54:47.728 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 11:54:47.729 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 11:54:47.796 +01:00 [INF] SchoolSaas Request: CreateFoUserCommand  
2024-07-17 11:54:48.125 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request CreateFoUserCommand
SchoolSaas.Application.Common.Exceptions.ApplicationException: Le nom d'utilisateur saisi existe déjà: mocharafeddine
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.CreateUserAsync(User user, String password) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 211
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.CreateUser.CreateUserCommandHandler.Handle(CreateFoUserCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\CreateUser\CreateFoUserCommand.cs:line 27
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 11:54:48.292 +01:00 [ERR] Le nom d'utilisateur saisi existe déjà: mocharafeddine
SchoolSaas.Application.Common.Exceptions.ApplicationException: Le nom d'utilisateur saisi existe déjà: mocharafeddine
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.CreateUserAsync(User user, String password) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 211
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.CreateUser.CreateUserCommandHandler.Handle(CreateFoUserCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\CreateUser\CreateFoUserCommand.cs:line 27
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.Create(UserCreateDto userDto) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 62
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 11:55:52.795 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:55:52.800 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:55:52.802 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 11:55:52.804 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:55:52.805 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:55:52.815 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:55:52.818 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:55:52.819 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:55:52.823 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Backoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 11:55:52.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 11:55:52.827 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 11:55:52.828 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 11:55:52.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 11:55:52.831 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 11:55:52.833 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 11:55:52.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 11:55:52.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 11:55:52.837 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 11:55:52.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 11:55:52.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 11:55:52.844 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 11:55:52.846 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 11:55:52.847 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 11:55:52.849 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 11:55:52.911 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 11:55:52.916 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 11:55:52.931 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 11:55:52.933 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 11:55:52.935 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 11:55:52.940 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 11:55:52.942 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 11:55:52.945 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 11:55:52.947 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 11:55:52.949 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 11:55:52.950 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 11:55:52.951 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 11:55:52.952 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 11:55:52.954 +01:00 [INF] The token request was successfully validated.
2024-07-17 11:55:52.955 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 11:55:52.958 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 11:55:52.960 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:55:52.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:55:52.963 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 11:55:52.963 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 11:55:52.965 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:55:52.966 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:56:04.232 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostChallengeProperties.
2024-07-17 11:56:04.234 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateChallengeDemand.
2024-07-17 11:56:04.237 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHostChallengeError.
2024-07-17 11:56:04.239 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultChallengeError.
2024-07-17 11:56:06.011 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RejectDeviceCodeEntry.
2024-07-17 11:56:06.013 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RejectUserCodeEntry.
2024-07-17 11:56:06.015 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomChallengeParameters.
2024-07-17 11:56:06.017 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 11:56:06.019 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.020 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.022 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.025 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "Invalid username/email or password.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2024"
}.
2024-07-17 11:56:06.026 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.027 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.028 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.029 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:06.030 +01:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2024-07-17 11:56:09.333 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 11:56:09.336 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:56:09.338 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 11:56:09.339 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 11:56:09.340 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 11:56:09.342 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:09.343 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:09.344 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:09.346 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 11:56:09.347 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 11:56:09.348 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 11:56:09.349 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 11:56:09.351 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 11:56:09.353 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 11:56:09.354 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 11:56:09.355 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 11:56:09.357 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 11:56:09.358 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 11:56:09.359 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 11:56:09.360 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 11:56:09.362 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 11:56:09.363 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 11:56:09.364 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 11:56:09.365 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 11:56:09.419 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 11:56:09.420 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 11:56:09.430 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 11:56:09.431 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 11:56:09.433 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 11:56:09.435 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 11:56:09.436 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 11:56:09.438 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 11:56:09.439 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 11:56:09.440 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 11:56:09.441 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 11:56:09.443 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 11:56:09.444 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 11:56:09.445 +01:00 [INF] The token request was successfully validated.
2024-07-17 11:56:09.446 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 11:56:09.447 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 11:56:09.449 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:09.450 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:09.451 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 11:56:09.452 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 11:56:09.454 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 11:56:09.455 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 11:56:12.932 +01:00 [INF] SchoolSaas Request: GetFoPermissionsQuery  
2024-07-17 11:56:13.207 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostSignInProperties.
2024-07-17 11:56:13.212 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateSignInDemand.
2024-07-17 11:56:15.258 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RedeemTokenEntry.
2024-07-17 11:56:15.260 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RestoreInternalClaims.
2024-07-17 11:56:15.262 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachHostProperties.
2024-07-17 11:56:15.263 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultScopes.
2024-07-17 11:56:15.265 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultPresenters.
2024-07-17 11:56:15.266 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferResources.
2024-07-17 11:56:15.270 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateGeneratedTokens.
2024-07-17 11:56:15.272 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachAuthorization.
2024-07-17 11:56:15.278 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+PrepareAccessTokenPrincipal.
2024-07-17 11:56:15.282 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+AttachSecurityCredentials.
2024-07-17 11:56:17.919 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+CreateTokenEntry.
2024-07-17 11:56:17.958 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+GenerateIdentityModelToken.
2024-07-17 11:56:17.960 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+BeautifyToken.
2024-07-17 11:56:17.962 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+GenerateAccessToken.
2024-07-17 11:56:17.963 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomSignInParameters.
2024-07-17 11:56:17.965 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachSignInParameters.
2024-07-17 11:56:17.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 11:56:17.969 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.971 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.972 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.974 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3597
}.
2024-07-17 11:56:17.975 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.977 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 11:56:17.979 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 12:06:33.594 +01:00 [INF] Seeding database...
2024-07-17 12:06:33.619 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:06:34.079 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:34.080 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:34.080 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:34.080 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:42.084 +01:00 [INF] Seeding database...
2024-07-17 12:06:42.120 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:06:42.775 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:42.779 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:42.780 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:42.781 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:06:45.750 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:06:45.753 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:06:45.754 +01:00 [INF] Hosting environment: Development
2024-07-17 12:06:45.754 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:06:47.259 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.421 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.637 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.644 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.733 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.756 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:06:47.936 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:47.940 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:06:47.942 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:06:47.969 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:47.976 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:06:47.988 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:47.997 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:47.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:06:47.999 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:06:48.001 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:48.002 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:06:48.048 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:48.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:48.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:06:48.052 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:06:48.053 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:48.055 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:06:48.058 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:06:48.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:48.062 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:06:48.063 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:06:48.064 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:06:48.065 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:06:48.118 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:18.793 +01:00 [INF] Seeding database...
2024-07-17 12:07:18.891 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:07:19.848 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:07:19.852 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:07:19.855 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:07:19.857 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:07:23.424 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:07:23.426 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:07:23.427 +01:00 [INF] Hosting environment: Development
2024-07-17 12:07:23.428 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:07:24.602 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:24.787 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.144 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.155 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.352 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.389 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:07:25.647 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.651 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:07:25.654 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:25.684 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.695 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:07:25.710 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.721 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.723 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:07:25.726 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:25.727 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.729 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:07:25.783 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.785 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.787 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:07:25.788 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:25.790 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.792 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:07:25.798 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:25.800 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.801 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:07:25.802 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:25.804 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:25.805 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:07:25.860 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:43.351 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:07:43.355 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:43.356 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:07:43.357 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:43.358 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:07:43.360 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:07:43.366 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:07:43.368 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:07:43.369 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:07:43.371 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:07:43.373 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:07:43.375 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:07:43.377 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:07:43.378 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:07:43.437 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:07:56.731 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor() in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:07:56.900 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor() in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:11:24.267 +01:00 [INF] Seeding database...
2024-07-17 12:11:24.292 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:11:24.750 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:24.751 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:24.752 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:24.752 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:33.444 +01:00 [INF] Seeding database...
2024-07-17 12:11:33.485 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:11:34.176 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:34.180 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:34.181 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:34.182 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:11:38.465 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:11:38.468 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:11:38.469 +01:00 [INF] Hosting environment: Development
2024-07-17 12:11:38.470 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:11:39.976 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:40.349 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:40.854 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:40.866 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:41.026 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:41.056 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:11:41.747 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:41.767 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:11:41.789 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:11:41.964 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:41.985 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:11:42.016 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:42.032 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.035 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:11:42.039 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:11:42.043 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.045 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:11:42.133 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:42.136 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.138 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:11:42.140 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:11:42.142 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.145 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:11:42.155 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:11:42.158 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.160 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:11:42.164 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:11:42.166 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:11:42.171 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:11:42.273 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:12:35.812 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:12:35.821 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:12:35.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:12:35.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:12:35.826 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:12:35.828 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:12:35.833 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:12:35.835 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:12:35.837 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:12:35.839 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:12:35.841 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:12:35.845 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:12:35.847 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:12:35.849 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:12:35.919 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:12:42.624 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:12:42.797 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:13:28.885 +01:00 [INF] Seeding database...
2024-07-17 12:13:28.920 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:13:30.220 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:13:30.225 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:13:30.226 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:13:30.227 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:13:34.121 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:13:34.124 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:13:34.125 +01:00 [INF] Hosting environment: Development
2024-07-17 12:13:34.126 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:13:35.517 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:35.704 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.022 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.024 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.204 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.302 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:13:36.626 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.632 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:13:36.635 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:36.677 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.689 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:13:36.703 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.711 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.713 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:13:36.715 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:36.717 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.718 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:13:36.780 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.784 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.787 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:13:36.789 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:36.791 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.792 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:13:36.797 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:36.801 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.802 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:13:36.804 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:36.806 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:36.807 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:13:36.879 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:52.878 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:13:52.881 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:52.882 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:13:52.884 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:52.886 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:13:52.887 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:13:52.893 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:13:52.895 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:13:52.896 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:13:52.898 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:13:52.899 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:13:52.901 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:13:52.902 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:13:52.904 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:13:52.960 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:13:58.701 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:13:58.859 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 283
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:18:49.164 +01:00 [INF] Seeding database...
2024-07-17 12:18:49.190 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:18:49.683 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:49.684 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:49.684 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:49.684 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:58.718 +01:00 [INF] Seeding database...
2024-07-17 12:18:58.752 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:18:59.470 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:59.474 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:59.475 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:18:59.476 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:19:03.212 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:19:03.214 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:19:03.216 +01:00 [INF] Hosting environment: Development
2024-07-17 12:19:03.217 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:19:04.653 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:05.395 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:05.908 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:05.919 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:06.032 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:06.088 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:19:06.278 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.283 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:19:06.287 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:06.319 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.328 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:19:06.341 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:06.351 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.353 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:19:06.354 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:06.356 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.358 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:19:06.425 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:06.427 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.428 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:19:06.430 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:06.431 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.433 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:19:06.436 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:06.438 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.440 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:19:06.442 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:06.443 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:06.444 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:19:06.509 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:28.202 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:19:28.206 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:28.208 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:19:28.209 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:28.210 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:19:28.212 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:19:28.218 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:19:28.221 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:19:28.222 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:19:28.224 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:19:28.226 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:19:28.228 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:19:28.229 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:19:28.231 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:19:28.291 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:19:29.546 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.InvalidOperationException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 284
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:19:29.734 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.InvalidOperationException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 284
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:20:18.788 +01:00 [INF] Seeding database...
2024-07-17 12:20:18.836 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:20:19.968 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:20:19.971 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:20:19.973 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:20:19.974 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:20:23.704 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:20:23.707 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:20:23.708 +01:00 [INF] Hosting environment: Development
2024-07-17 12:20:23.708 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:20:25.400 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:25.603 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:26.806 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:26.815 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:26.989 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:27.009 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:20:27.152 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.156 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:20:27.158 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:27.182 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.190 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:20:27.201 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:27.209 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.210 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:20:27.211 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:27.213 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.214 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:20:27.259 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:27.261 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.262 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:20:27.263 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:27.265 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.266 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:20:27.270 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:27.274 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.275 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:20:27.277 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:27.278 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:27.279 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:20:27.333 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:39.852 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:20:39.855 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:39.856 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:20:39.858 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:39.859 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:20:39.860 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:20:39.865 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:20:39.867 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:20:39.868 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:20:39.870 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:20:39.872 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:20:39.873 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:20:39.875 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:20:39.876 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:20:39.986 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:21:09.800 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.InvalidOperationException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 284
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:21:09.955 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.InvalidOperationException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 284
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:24:44.055 +01:00 [INF] Seeding database...
2024-07-17 12:24:44.081 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:24:44.569 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:44.570 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:44.570 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:44.570 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:52.779 +01:00 [INF] Seeding database...
2024-07-17 12:24:52.816 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:24:53.464 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:53.468 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:53.469 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:53.470 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:24:56.922 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:24:56.925 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:24:56.926 +01:00 [INF] Hosting environment: Development
2024-07-17 12:24:56.927 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:24:57.919 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.092 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.293 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.304 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.441 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.462 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:24:58.766 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.772 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:24:58.777 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:24:58.830 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.846 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:24:58.865 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.877 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.879 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:24:58.880 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:24:58.882 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.885 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:24:58.945 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.947 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.949 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:24:58.950 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:24:58.951 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.953 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:24:58.958 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:24:58.960 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:24:58.962 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:24:58.964 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:24:58.965 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:24:59.031 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:25:27.436 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:25:27.444 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:25:27.446 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:25:27.447 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:25:27.449 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:25:27.478 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:25:27.489 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:25:27.492 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:25:27.494 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:25:27.497 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:25:27.499 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:25:27.501 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:25:27.503 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:25:27.505 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:25:27.581 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:25:37.986 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 282
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:25:38.169 +01:00 [ERR] Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
System.MissingMethodException: Cannot dynamically create an instance of type 'System.String'. Reason: Uninitialized Strings cannot be created.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.CreateInstanceOfT()
   at System.Activator.CreateInstance[T]()
   at SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1..ctor(T data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Areas\Emails\Views\TemplateViewModel.cs:line 8
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 282
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:29:41.787 +01:00 [INF] Seeding database...
2024-07-17 12:29:41.812 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:29:42.268 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:42.269 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:42.269 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:42.269 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:51.469 +01:00 [INF] Seeding database...
2024-07-17 12:29:51.545 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:29:52.412 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:52.416 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:52.417 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:52.418 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:29:56.791 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:29:56.795 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:29:56.796 +01:00 [INF] Hosting environment: Development
2024-07-17 12:29:56.798 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:29:57.910 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:58.186 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:58.701 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:58.717 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:58.891 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:58.924 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:29:59.161 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.165 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:29:59.167 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:29:59.198 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.211 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:29:59.229 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:59.238 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.241 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:29:59.244 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:29:59.246 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.247 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:29:59.304 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:59.307 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.309 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:29:59.311 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:29:59.315 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.317 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:29:59.323 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:29:59.325 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.326 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:29:59.328 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:29:59.329 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:29:59.331 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:29:59.393 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:30:18.022 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:30:18.026 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:30:18.027 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:30:18.029 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:30:18.030 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:30:18.032 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:30:18.037 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:30:18.039 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:30:18.041 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:30:18.042 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:30:18.045 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:30:18.047 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:30:18.048 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:30:18.049 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:30:18.107 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:30:31.194 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:30:31.360 +01:00 [ERR] The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:32:18.326 +01:00 [INF] Seeding database...
2024-07-17 12:32:18.392 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:32:19.291 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:32:19.295 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:32:19.297 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:32:19.299 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:32:22.701 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:32:22.704 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:32:22.705 +01:00 [INF] Hosting environment: Development
2024-07-17 12:32:22.706 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:32:24.090 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:24.461 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:24.928 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:24.941 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:25.112 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:25.140 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:32:25.579 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.588 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:32:25.593 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:25.655 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.672 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:32:25.697 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:25.719 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.722 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:32:25.724 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:25.726 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.729 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:32:25.811 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:25.814 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.817 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:32:25.819 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:25.822 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.824 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:32:25.830 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:25.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:32:25.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:25.840 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:25.841 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:32:25.926 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:37.143 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:32:37.147 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:37.148 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:32:37.149 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:37.150 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:32:37.152 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:32:37.157 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:32:37.158 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:32:37.160 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:32:37.161 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:32:37.164 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:32:37.166 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:32:37.167 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:32:37.169 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:32:37.227 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:32:41.070 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:32:41.229 +01:00 [ERR] The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:33:20.437 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:33:20.444 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:33:20.445 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:33:20.446 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:33:20.448 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:33:20.449 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:33:20.450 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:33:20.451 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:33:20.453 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:33:20.454 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:33:20.455 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:33:20.456 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:33:20.457 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:33:20.458 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:33:20.460 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:35:22.660 +01:00 [ERR] SchoolSaas Request: Unhandled Exception for Request PasswordFogottenCommand
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
2024-07-17 12:35:22.812 +01:00 [ERR] The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]]', but this ViewDataDictionary instance requires a model item of type 'SchoolSaas.Infrastructure.Areas.Emails.Views.TemplateViewModel`1[SchoolSaas.Application.Common.Models.PasswordResetEmailDTO]'.
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String fromAlias, String fromEmail, List`1 emails, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 111
   at SchoolSaas.Infrastructure.Services.EmailSender.SendEmailAsync[TModel](String email, String subject, String template, TModel model, EmailAttachementFile emailAttachementFile, String bcc) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure\Services\EmailSender.cs:line 63
   at SchoolSaas.Infrastructure.Identity.CitizenIdentityService.ForgotPassword(ForgotPasswordRequest request) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\CitizenIdentityService.cs:line 285
   at SchoolSaas.Application.Identity.FrontOfficeUsers.Users.Commands.PasswordForgotten.PasswordFogottenCommandHandler.Handle(PasswordFogottenCommand request, CancellationToken cancellationToken) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Identity\FrontOfficeUsers\Users\Commands\PasswordForgotten\PasswordFogottenCommand.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\UnhandledExceptionBehaviour.cs:line 21
   at SchoolSaas.Application.Common.Behaviours.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\ValidationBehavior.cs:line 40
   at SchoolSaas.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Application.Common\Behaviours\PerformanceBehaviour.cs:line 30
   at MediatR.Behaviors.Authorization.RequestAuthorizationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SchoolSaas.Web.IdentityService.Controllers.FoUsersController.PasswordForgotten(ForgotPasswordRequest data) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Controllers\FoUsersController.cs:line 68
   at lambda_method1927(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2024-07-17 12:36:17.894 +01:00 [INF] Seeding database...
2024-07-17 12:36:17.960 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:36:18.834 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:36:18.837 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:36:18.838 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:36:18.839 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:36:22.445 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:36:22.460 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:36:22.462 +01:00 [INF] Hosting environment: Development
2024-07-17 12:36:22.463 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:36:24.059 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:24.322 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:24.585 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:24.585 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:24.714 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:24.751 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:36:25.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.086 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:36:25.090 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:25.135 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.150 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:36:25.172 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:25.184 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.185 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:36:25.187 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:25.189 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.190 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:36:25.250 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:25.252 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.254 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:36:25.255 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:25.257 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.258 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:36:25.262 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:25.264 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.266 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:36:25.267 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:25.269 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:25.270 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:36:25.331 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:35.896 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:36:35.901 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:35.903 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:36:35.905 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:35.907 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:36:35.909 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:36:35.915 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:36:35.917 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:36:35.919 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:36:35.922 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:36:35.925 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:36:35.926 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:36:35.927 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:36:35.929 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:36:35.990 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:36:52.623 +01:00 [WRN] SchoolSaas Long Running Request: PasswordFogottenCommand (16620 milliseconds)  
2024-07-17 12:38:14.392 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:38:14.395 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:38:14.397 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:38:14.398 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:38:14.400 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:38:14.401 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:38:14.402 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:38:14.403 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:38:14.404 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:38:14.406 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:38:14.407 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:38:14.408 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:38:14.409 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:38:14.410 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:38:14.413 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:39:55.817 +01:00 [WRN] SchoolSaas Long Running Request: PasswordFogottenCommand (101402 milliseconds)  
2024-07-17 12:41:01.300 +01:00 [INF] Seeding database...
2024-07-17 12:41:01.389 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 12:41:02.555 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:41:02.559 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:41:02.560 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:41:02.562 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 12:41:06.209 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 12:41:06.213 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:41:06.214 +01:00 [INF] Hosting environment: Development
2024-07-17 12:41:06.215 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 12:41:07.697 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.221 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.457 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.462 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.618 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.639 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 12:41:08.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:41:08.833 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:08.869 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.882 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:41:08.899 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.906 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.908 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:41:08.911 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:08.913 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.914 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:41:08.967 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.970 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.971 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:41:08.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:08.975 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.977 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:41:08.980 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:08.982 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.983 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:41:08.984 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:08.985 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:08.987 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:41:09.044 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:21.005 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 12:41:21.009 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:21.011 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 12:41:21.012 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:21.014 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 12:41:21.015 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 12:41:21.023 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 12:41:21.025 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+EvaluateValidatedTokens.
2024-07-17 12:41:21.027 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromAuthorizationHeader.
2024-07-17 12:41:21.031 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromBodyForm.
2024-07-17 12:41:21.034 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ExtractAccessTokenFromQueryString.
2024-07-17 12:41:21.038 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:41:21.040 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Validation.OpenIddictValidationHandlers+ValidateRequiredTokens.
2024-07-17 12:41:21.043 +01:00 [DBG] AuthenticationScheme: OpenIddict.Validation.AspNetCore was not authenticated.
2024-07-17 12:41:21.143 +01:00 [INF] SchoolSaas Request: PasswordFogottenCommand  
2024-07-17 12:47:50.234 +01:00 [WRN] SchoolSaas Long Running Request: PasswordFogottenCommand (389081 milliseconds)  
2024-07-17 16:07:15.390 +01:00 [INF] Seeding database...
2024-07-17 16:07:15.416 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:07:15.946 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:15.948 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:15.948 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:15.948 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:25.638 +01:00 [INF] Seeding database...
2024-07-17 16:07:25.674 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:07:26.304 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:26.308 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:26.309 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:26.310 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:07:29.560 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:07:29.563 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:07:29.564 +01:00 [INF] Hosting environment: Development
2024-07-17 16:07:29.565 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:07:31.160 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:31.352 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:31.568 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:31.568 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:31.665 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:31.693 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:07:32.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.122 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:07:32.126 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:07:32.160 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.170 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:07:32.187 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:32.197 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.199 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:07:32.201 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:07:32.203 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.204 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:07:32.253 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:32.255 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.257 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:07:32.259 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:07:32.261 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.263 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:07:32.266 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:07:32.268 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.269 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:07:32.271 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:07:32.272 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:07:32.273 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:07:32.326 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:08:22.623 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:08:22.626 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:08:22.629 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:08:22.633 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:08:22.635 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:08:22.649 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.652 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.654 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.659 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:08:22.660 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:08:22.665 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:08:22.666 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:08:22.668 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:08:22.669 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:08:22.670 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:08:22.672 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:08:22.673 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:08:22.674 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:08:22.676 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:08:22.679 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:08:22.683 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:08:22.685 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:08:22.687 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:08:22.689 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:08:22.782 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:08:22.787 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:08:22.804 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:08:22.808 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:08:22.811 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:08:22.817 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:08:22.819 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:08:22.821 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:08:22.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:08:22.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:08:22.825 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:08:22.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:08:22.831 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:08:22.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:08:22.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.840 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.842 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:08:22.844 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.846 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.847 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:08:22.848 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:26.402 +01:00 [INF] Seeding database...
2024-07-17 16:09:26.443 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:09:27.199 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:09:27.204 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:09:27.206 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:09:27.208 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:09:30.575 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:09:30.579 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:09:30.580 +01:00 [INF] Hosting environment: Development
2024-07-17 16:09:30.581 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:09:31.939 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:32.267 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:32.685 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:32.693 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:32.840 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:32.873 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:09:33.284 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.290 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:33.294 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:33.353 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.372 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:09:33.397 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:33.413 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.415 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:33.417 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:33.419 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.422 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:09:33.486 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:33.490 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.492 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:33.494 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:33.496 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.497 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:09:33.504 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:33.507 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.509 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:33.510 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:33.512 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:33.513 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:09:33.583 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:36.682 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:36.687 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:36.700 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:09:36.705 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:36.710 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:36.733 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:36.739 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:36.743 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:36.751 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:09:36.752 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:09:36.763 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:09:36.769 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:09:36.776 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:09:36.779 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:09:36.782 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:09:36.785 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:09:36.788 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:09:36.791 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:09:36.793 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:09:36.798 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:09:36.803 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:09:36.807 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:09:36.810 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:09:36.813 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:09:36.957 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:09:36.982 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:09:37.011 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:09:37.016 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:09:37.018 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:09:37.028 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:09:37.032 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:09:37.038 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:09:37.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:09:37.042 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:09:37.043 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:09:37.048 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:09:37.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:09:37.056 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:09:37.062 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.077 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.082 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.087 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:09:37.094 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.107 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:37.129 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.408 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:09:39.410 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:09:39.411 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:09:39.413 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:09:39.414 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:09:39.416 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.417 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.418 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.419 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:09:39.420 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:09:39.421 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:09:39.422 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:09:39.423 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:09:39.424 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:09:39.425 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:09:39.426 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:09:39.427 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:09:39.428 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:09:39.429 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:09:39.430 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:09:39.431 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:09:39.432 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:09:39.433 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:09:39.434 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:09:39.495 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:09:39.497 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:09:39.507 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:09:39.509 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:09:39.510 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:09:39.511 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:09:39.512 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:09:39.513 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:09:39.515 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:09:39.516 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:09:39.517 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:09:39.518 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:09:39.519 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:09:39.520 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:09:39.522 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.524 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.525 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.527 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:09:39.528 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.529 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.530 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:09:39.532 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:40.786 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:24:40.811 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:24:40.813 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:24:40.814 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:24:40.816 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:24:40.821 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:40.822 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:40.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:40.825 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:24:40.827 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:24:40.828 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:24:40.829 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:24:40.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:24:40.831 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:24:40.833 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:24:40.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:24:40.835 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:24:40.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:24:40.837 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:24:40.839 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:24:40.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:24:40.842 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:24:40.843 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:24:40.845 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:24:41.248 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:24:41.250 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:24:41.259 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:24:41.260 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:24:41.262 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:24:41.264 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:24:41.266 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:24:41.268 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:24:41.269 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:24:41.270 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:24:41.271 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:24:41.272 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:24:41.273 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:24:41.274 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:24:41.275 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.277 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.278 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.279 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:24:41.279 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.281 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.282 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:24:41.283 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.550 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:29:36.556 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:29:36.558 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:29:36.559 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:29:36.561 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:29:36.563 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.565 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.566 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.567 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:29:36.567 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:29:36.569 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:29:36.572 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:29:36.573 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:29:36.574 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:29:36.575 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:29:36.577 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:29:36.578 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:29:36.579 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:29:36.580 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:29:36.581 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:29:36.582 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:29:36.583 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:29:36.584 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:29:36.585 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:29:36.640 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:29:36.642 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:29:36.651 +01:00 [INF] Client authentication failed for m2m.SchoolSaas.Frontoffice.
2024-07-17 16:29:36.652 +01:00 [INF] The authentication demand was rejected because the confidential application 'm2m.SchoolSaas.Frontoffice' didn't specify valid client credentials.
2024-07-17 16:29:36.653 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:29:36.654 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:29:36.655 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:29:36.656 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:29:36.657 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:29:36.658 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:29:36.659 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:29:36.661 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:29:36.662 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:29:36.663 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.664 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.667 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.668 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_client",
  "error_description": "The specified client credentials are invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2055"
}.
2024-07-17 16:29:36.669 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.670 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.671 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:29:36.672 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:41:27.536 +01:00 [INF] Seeding database...
2024-07-17 16:41:27.571 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:41:28.196 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:41:28.200 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:41:28.201 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:41:28.202 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:41:31.498 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:41:31.501 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:41:31.502 +01:00 [INF] Hosting environment: Development
2024-07-17 16:41:31.503 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:41:33.720 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:34.115 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:34.539 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:34.549 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:34.680 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:34.704 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:41:34.983 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:34.989 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:41:34.991 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:41:35.023 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.030 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:41:35.043 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:35.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.053 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:41:35.056 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:41:35.058 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.060 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:41:35.107 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:35.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.111 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:41:35.112 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:41:35.114 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.115 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:41:35.120 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:41:35.122 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.123 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:41:35.124 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:41:35.125 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:41:35.127 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:41:35.180 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:42:02.739 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:42:02.742 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:42:02.766 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:42:02.769 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:42:02.770 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:42:02.839 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:02.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:02.843 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:02.847 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:42:02.848 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:42:02.866 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:42:02.868 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:42:02.870 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:42:02.872 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:42:02.873 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:42:02.874 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:42:02.876 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:42:02.878 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:42:02.880 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:42:02.904 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:42:02.907 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:42:02.909 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:42:02.912 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:42:02.914 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:42:03.005 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:42:03.009 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:42:03.024 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:42:03.027 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:42:03.030 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:42:03.034 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:42:03.036 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:42:03.038 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:03.039 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:03.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:03.042 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:03.045 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:42:03.047 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:42:03.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:42:03.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.053 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.055 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.057 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:42:03.058 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.061 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:03.062 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.858 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:42:07.861 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:42:07.862 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:42:07.863 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:42:07.864 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:42:07.867 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.869 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.870 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.871 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:42:07.872 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:42:07.874 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:42:07.875 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:42:07.876 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:42:07.877 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:42:07.878 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:42:07.879 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:42:07.881 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:42:07.882 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:42:07.883 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:42:07.884 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:42:07.885 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:42:07.886 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:42:07.887 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:42:07.888 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:42:07.948 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:42:07.949 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:42:07.959 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:42:07.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:42:07.963 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:42:07.964 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:42:07.965 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:42:07.966 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:07.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:07.968 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:07.969 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:07.970 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:42:07.971 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:42:07.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:42:07.974 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.975 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.976 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.977 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:42:07.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.981 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.982 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:07.983 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.710 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:42:08.713 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:42:08.715 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:42:08.716 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:42:08.717 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:42:08.718 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.719 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.720 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.721 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:42:08.722 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:42:08.723 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:42:08.724 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:42:08.725 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:42:08.726 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:42:08.727 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:42:08.728 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:42:08.730 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:42:08.731 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:42:08.732 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:42:08.733 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:42:08.734 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:42:08.735 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:42:08.736 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:42:08.737 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:42:08.784 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:42:08.786 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:42:08.796 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:42:08.797 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:42:08.798 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:42:08.799 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:42:08.800 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:42:08.801 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:08.803 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:08.804 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:08.805 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:08.806 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:42:08.807 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:42:08.808 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:42:08.809 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.810 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.811 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.812 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:42:08.814 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.814 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.815 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:08.817 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.521 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:42:09.523 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:42:09.525 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:42:09.526 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:42:09.527 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:42:09.529 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.530 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.532 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.533 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:42:09.534 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:42:09.535 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:42:09.537 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:42:09.538 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:42:09.539 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:42:09.540 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:42:09.540 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:42:09.542 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:42:09.543 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:42:09.543 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:42:09.544 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:42:09.545 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:42:09.547 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:42:09.549 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:42:09.550 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:42:09.597 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:42:09.599 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:42:09.608 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:42:09.610 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:42:09.611 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:42:09.612 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:42:09.614 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:42:09.615 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:09.616 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:42:09.617 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:09.618 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:42:09.620 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:42:09.621 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:42:09.622 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:42:09.623 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.624 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.625 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.626 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:42:09.627 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.629 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.630 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:42:09.632 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:04.031 +01:00 [INF] Seeding database...
2024-07-17 16:43:04.080 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:43:04.970 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:43:04.973 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:43:04.975 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:43:04.977 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:43:08.501 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:43:08.505 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:43:08.506 +01:00 [INF] Hosting environment: Development
2024-07-17 16:43:08.507 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:43:10.222 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:10.488 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:10.861 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:10.866 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:11.027 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:11.202 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:43:11.577 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.584 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:11.588 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:11.638 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.652 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:43:11.670 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:11.681 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.683 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:11.684 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:11.686 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.689 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:43:11.772 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:11.775 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.777 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:11.779 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:11.784 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.786 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:43:11.792 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:11.795 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.797 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:11.800 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:11.802 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:11.804 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:43:11.884 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:15.047 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:15.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:15.053 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:43:15.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:15.061 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:15.076 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.081 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.084 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.090 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:43:15.091 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:43:15.096 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:43:15.098 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:43:15.100 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:43:15.102 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:43:15.107 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:43:15.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:43:15.111 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:43:15.113 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:43:15.114 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:43:15.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:43:15.122 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:43:15.125 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:43:15.128 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:43:15.131 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:43:15.238 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:43:15.243 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:43:15.259 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:43:15.264 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:43:15.267 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:43:15.274 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:43:15.277 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:43:15.279 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:43:15.281 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:43:15.283 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:43:15.285 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:43:15.291 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:43:15.293 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:43:15.297 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:43:15.299 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.301 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.304 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.309 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:43:15.311 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.313 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.315 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:15.316 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:16.970 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:43:16.974 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:43:16.975 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:43:16.976 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:43:16.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:43:16.980 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:16.981 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:16.983 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:16.984 +01:00 [INF] The token request was successfully extracted: {
  "scope": "offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:43:16.985 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:43:16.987 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:43:16.989 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:43:16.990 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:43:16.992 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:43:16.994 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:43:16.996 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:43:16.997 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:43:16.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:43:17.000 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:43:17.001 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:43:17.002 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:43:17.004 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:43:17.006 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:43:17.008 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:43:17.068 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:43:17.070 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:43:17.083 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:43:17.085 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:43:17.087 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:43:17.089 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:43:17.091 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:43:17.093 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:43:17.095 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:43:17.096 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:43:17.098 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:43:17.099 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:43:17.101 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:43:17.103 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:43:17.105 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.107 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.111 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:43:17.112 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.115 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:43:17.120 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.537 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:02.544 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:44:02.545 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:44:02.546 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:44:02.547 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:44:02.549 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.551 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.552 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.553 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConsulatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:44:02.554 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:44:02.555 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:44:02.557 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:44:02.558 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:44:02.559 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:44:02.560 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:44:02.561 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:44:02.562 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:44:02.563 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:44:02.566 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:44:02.567 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:44:02.568 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:44:02.569 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:44:02.570 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:44:02.572 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:44:02.619 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:44:02.621 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:44:02.629 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:44:02.631 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:44:02.632 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:44:02.633 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:44:02.634 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:44:02.636 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to use the scope EConsulatMA.
2024-07-17 16:44:02.637 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:44:02.639 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:44:02.640 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:44:02.641 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:44:02.642 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:44:02.643 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:44:02.644 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:44:02.645 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.646 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.647 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.648 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "This client application is not allowed to use the specified scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2051"
}.
2024-07-17 16:44:02.649 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.650 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.651 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:02.652 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.036 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:17.038 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:44:17.039 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:44:17.039 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:44:17.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:44:17.041 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.042 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.043 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.045 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:44:17.045 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:44:17.046 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:44:17.047 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:44:17.048 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:44:17.049 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:44:17.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:44:17.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:44:17.052 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:44:17.053 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:44:17.054 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:44:17.055 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:44:17.056 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:44:17.057 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:44:17.058 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:44:17.059 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:44:17.107 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:44:17.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:44:17.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:44:17.119 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:44:17.120 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:44:17.121 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:44:17.122 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:44:17.123 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:44:17.125 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:44:17.126 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:44:17.128 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:44:17.130 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:44:17.131 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:44:17.132 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:44:17.133 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:44:17.135 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:44:17.136 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.137 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:17.138 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:44:17.139 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:44:17.140 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:44:17.142 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:44:23.504 +01:00 [INF] SchoolSaas Request: GetFoPermissionsQuery  
2024-07-17 16:44:23.615 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:23.661 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:23.661 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:23.906 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:23.916 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostSignInProperties.
2024-07-17 16:44:23.926 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateSignInDemand.
2024-07-17 16:44:26.227 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RedeemTokenEntry.
2024-07-17 16:44:26.229 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RestoreInternalClaims.
2024-07-17 16:44:26.231 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachHostProperties.
2024-07-17 16:44:26.232 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultScopes.
2024-07-17 16:44:26.234 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultPresenters.
2024-07-17 16:44:26.235 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferResources.
2024-07-17 16:44:26.237 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateGeneratedTokens.
2024-07-17 16:44:26.240 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachAuthorization.
2024-07-17 16:44:26.246 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+PrepareAccessTokenPrincipal.
2024-07-17 16:44:26.250 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+AttachSecurityCredentials.
2024-07-17 16:44:28.839 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+CreateTokenEntry.
2024-07-17 16:44:28.875 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+GenerateIdentityModelToken.
2024-07-17 16:44:28.878 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+BeautifyToken.
2024-07-17 16:44:28.879 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+GenerateAccessToken.
2024-07-17 16:44:28.881 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomSignInParameters.
2024-07-17 16:44:28.884 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachSignInParameters.
2024-07-17 16:44:28.886 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:44:28.887 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.888 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.889 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.890 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3597
}.
2024-07-17 16:44:28.892 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.894 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.895 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:28.896 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.876 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:44:42.878 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:44:42.879 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:44:42.880 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:44:42.881 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:44:42.883 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.884 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.885 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.886 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:44:42.887 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:44:42.888 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:44:42.889 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:44:42.890 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:44:42.891 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:44:42.892 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:44:42.893 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:44:42.894 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:44:42.895 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:44:42.896 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:44:42.897 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:44:42.898 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:44:42.898 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:44:42.899 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:44:42.901 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:44:42.949 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:44:42.950 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:44:42.959 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:44:42.960 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:44:42.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:44:42.962 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:44:42.963 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:44:42.964 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:44:42.965 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:44:42.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:44:42.968 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:44:42.969 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:44:42.970 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:44:42.971 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:44:42.972 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.974 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.975 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:44:42.976 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.977 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:44:42.979 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:29.995 +01:00 [INF] Seeding database...
2024-07-17 16:45:30.036 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:45:30.671 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:45:30.676 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:45:30.677 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:45:30.678 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:45:34.026 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:45:34.029 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:45:34.030 +01:00 [INF] Hosting environment: Development
2024-07-17 16:45:34.031 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:45:34.972 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:35.326 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:35.336 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:45:35.589 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:35.740 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:35.747 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:45:35.752 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:35.755 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:35.778 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:35.784 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:35.786 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:35.796 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:45:35.798 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:45:35.805 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:45:35.808 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:45:35.810 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:45:35.814 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:45:35.817 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:45:35.820 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:45:35.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:45:35.828 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:45:35.830 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:45:35.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:45:35.845 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:45:35.852 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:45:35.855 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:45:35.861 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:45:35.905 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:35.915 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:36.000 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:45:36.004 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:45:36.026 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:45:36.030 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:36.030 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:45:36.033 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:45:36.039 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:45:36.041 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:36.044 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:36.044 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:45:36.048 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:45:36.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:45:36.052 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:45:36.054 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:45:36.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:45:36.063 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:45:36.073 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:45:36.076 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.081 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.086 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.086 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:45:36.089 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.091 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.093 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.094 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:36.101 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:45:36.124 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:36.136 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.138 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:36.140 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:36.143 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.145 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:45:36.215 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:36.218 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.220 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:36.221 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:36.223 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.225 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:45:36.231 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:36.235 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.238 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:36.240 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:36.243 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:36.244 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:45:36.313 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:40.474 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:40.478 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:40.479 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:45:40.481 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:40.482 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:40.485 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.487 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.489 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.490 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:45:40.491 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:45:40.494 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:45:40.495 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:45:40.497 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:45:40.499 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:45:40.500 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:45:40.502 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:45:40.504 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:45:40.506 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:45:40.507 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:45:40.509 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:45:40.511 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:45:40.512 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:45:40.514 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:45:40.515 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:45:40.580 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:45:40.582 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:45:40.593 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:45:40.595 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:45:40.597 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:45:40.599 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:45:40.601 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:45:40.602 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:45:40.604 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:45:40.605 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:45:40.607 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:45:40.609 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:45:40.611 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:45:40.613 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:45:40.615 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.616 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.617 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.619 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:45:40.620 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.622 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.623 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:40.625 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:47.941 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:45:47.943 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:47.945 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:45:47.946 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:45:47.948 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:45:47.950 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:47.951 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:47.952 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:47.954 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:45:47.955 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:45:47.956 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:45:47.957 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:45:47.958 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:45:47.959 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:45:47.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:45:47.962 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:45:47.964 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:45:47.965 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:45:47.966 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:45:47.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:45:47.968 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:45:47.970 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:45:47.972 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:45:47.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:45:48.025 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:45:48.026 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:45:48.035 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:45:48.037 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:45:48.038 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:45:48.039 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:45:48.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:45:48.044 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:45:48.047 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:45:48.048 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:45:48.050 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:45:48.051 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:45:48.053 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:45:48.054 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:45:48.055 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:45:48.057 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:45:48.059 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:48.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:48.061 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:45:48.062 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:45:48.064 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:45:48.065 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:45:54.055 +01:00 [INF] SchoolSaas Request: GetFoPermissionsQuery  
2024-07-17 16:45:54.333 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostSignInProperties.
2024-07-17 16:45:54.337 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateSignInDemand.
2024-07-17 16:45:56.652 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RedeemTokenEntry.
2024-07-17 16:45:56.655 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RestoreInternalClaims.
2024-07-17 16:45:56.656 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachHostProperties.
2024-07-17 16:45:56.658 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultScopes.
2024-07-17 16:45:56.659 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultPresenters.
2024-07-17 16:45:56.661 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferResources.
2024-07-17 16:45:56.663 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateGeneratedTokens.
2024-07-17 16:45:56.666 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachAuthorization.
2024-07-17 16:45:56.672 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+PrepareAccessTokenPrincipal.
2024-07-17 16:45:56.676 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+AttachSecurityCredentials.
2024-07-17 16:45:58.667 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+CreateTokenEntry.
2024-07-17 16:45:58.762 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+GenerateIdentityModelToken.
2024-07-17 16:45:58.764 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+BeautifyToken.
2024-07-17 16:45:58.767 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+GenerateAccessToken.
2024-07-17 16:45:58.769 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomSignInParameters.
2024-07-17 16:45:58.773 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachSignInParameters.
2024-07-17 16:45:58.775 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:45:58.776 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.777 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.778 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.779 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3597
}.
2024-07-17 16:45:58.781 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.783 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.785 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:45:58.788 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:05.567 +01:00 [INF] Seeding database...
2024-07-17 16:47:05.597 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:47:06.127 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:06.128 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:06.128 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:06.128 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:29.314 +01:00 [INF] Seeding database...
2024-07-17 16:47:29.366 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:47:30.049 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:30.054 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:30.055 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:30.057 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:47:33.140 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:47:33.143 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:47:33.144 +01:00 [INF] Hosting environment: Development
2024-07-17 16:47:33.145 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:47:34.572 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:34.738 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:34.861 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:34.963 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:35.063 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:35.089 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:47:35.351 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.355 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:47:35.359 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:47:35.417 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.430 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:47:35.445 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:35.456 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.457 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:47:35.459 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:47:35.461 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.462 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:47:35.512 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:35.514 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.516 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:47:35.517 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:47:35.518 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.520 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:47:35.524 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:35.525 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.527 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:47:35.528 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:47:35.529 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:35.531 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:47:35.594 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:39.920 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:47:39.924 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:39.926 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:47:39.929 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:47:39.930 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:47:39.942 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:39.945 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:39.947 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:39.951 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:47:39.952 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:47:39.957 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:47:39.958 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:47:39.960 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:47:39.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:47:39.964 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:47:39.965 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:47:39.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:47:39.968 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:47:39.969 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:47:39.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:47:39.975 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:47:39.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:47:39.979 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:47:39.981 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:47:40.073 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:47:40.077 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:47:40.091 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:47:40.094 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:47:40.095 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:47:40.100 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:47:40.102 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:47:40.107 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:47:40.110 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:47:40.112 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:47:40.114 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:47:40.116 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:47:40.118 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:47:40.120 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:47:40.121 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:47:40.124 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:47:40.127 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:40.128 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:40.130 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:47:40.131 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:47:40.133 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:47:40.134 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:47:43.435 +01:00 [INF] SchoolSaas Request: GetFoPermissionsQuery  
2024-07-17 16:47:43.816 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostSignInProperties.
2024-07-17 16:47:43.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateSignInDemand.
2024-07-17 16:47:46.180 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RedeemTokenEntry.
2024-07-17 16:47:46.183 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RestoreInternalClaims.
2024-07-17 16:47:46.186 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachHostProperties.
2024-07-17 16:47:46.188 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultScopes.
2024-07-17 16:47:46.191 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultPresenters.
2024-07-17 16:47:46.195 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferResources.
2024-07-17 16:47:46.197 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateGeneratedTokens.
2024-07-17 16:47:46.202 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachAuthorization.
2024-07-17 16:47:46.213 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+PrepareAccessTokenPrincipal.
2024-07-17 16:47:46.218 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+AttachSecurityCredentials.
2024-07-17 16:47:49.040 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+CreateTokenEntry.
2024-07-17 16:47:49.083 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+GenerateIdentityModelToken.
2024-07-17 16:47:49.085 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+BeautifyToken.
2024-07-17 16:47:49.087 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+GenerateAccessToken.
2024-07-17 16:47:49.090 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomSignInParameters.
2024-07-17 16:47:49.094 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachSignInParameters.
2024-07-17 16:47:49.097 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:47:49.098 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.100 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.102 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.105 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3597
}.
2024-07-17 16:47:49.109 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.110 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.112 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:47:49.113 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:40.951 +01:00 [INF] Seeding database...
2024-07-17 16:48:40.976 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:48:41.495 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:41.496 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:41.496 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:41.496 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:49.671 +01:00 [INF] Seeding database...
2024-07-17 16:48:49.728 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:48:50.492 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:50.496 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:50.498 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:50.499 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:48:53.556 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:48:53.559 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:48:53.561 +01:00 [INF] Hosting environment: Development
2024-07-17 16:48:53.562 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:48:54.843 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:55.053 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:55.541 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:55.547 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:55.686 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:55.712 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:48:55.992 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:55.996 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:48:55.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:48:56.030 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.041 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:48:56.059 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:56.075 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:48:56.080 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:48:56.082 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.085 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:48:56.138 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:56.142 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.143 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:48:56.144 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:48:56.146 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.148 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:48:56.154 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:56.157 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.159 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:48:56.160 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:48:56.162 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:56.164 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:48:56.228 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:57.489 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:48:57.492 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:57.493 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:48:57.496 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:48:57.497 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:48:57.506 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:57.509 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:57.510 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:57.514 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:48:57.515 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:48:57.520 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:48:57.521 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:48:57.522 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:48:57.524 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:48:57.525 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:48:57.526 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:48:57.528 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:48:57.529 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:48:57.530 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:48:57.533 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:48:57.537 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:48:57.540 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:48:57.541 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:48:57.543 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:48:57.634 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:48:57.639 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:48:57.652 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:48:57.655 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:48:57.657 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:48:57.661 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:48:57.663 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:48:57.666 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:48:57.669 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:48:57.670 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:48:57.672 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:48:57.673 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:48:57.674 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:48:57.676 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:48:57.676 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:48:57.679 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:48:57.681 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:57.682 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:48:57.684 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:48:57.685 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:48:57.687 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:48:57.688 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:49:00.773 +01:00 [INF] SchoolSaas Request: GetFoPermissionsQuery  
2024-07-17 16:49:01.265 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostSignInProperties.
2024-07-17 16:49:01.276 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateSignInDemand.
2024-07-17 16:49:05.425 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RedeemTokenEntry.
2024-07-17 16:49:05.428 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RestoreInternalClaims.
2024-07-17 16:49:05.429 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachHostProperties.
2024-07-17 16:49:05.431 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultScopes.
2024-07-17 16:49:05.432 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultPresenters.
2024-07-17 16:49:05.433 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferResources.
2024-07-17 16:49:05.435 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateGeneratedTokens.
2024-07-17 16:49:05.438 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachAuthorization.
2024-07-17 16:49:05.444 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+PrepareAccessTokenPrincipal.
2024-07-17 16:49:05.448 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+AttachSecurityCredentials.
2024-07-17 16:49:08.368 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+CreateTokenEntry.
2024-07-17 16:49:08.407 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+GenerateIdentityModelToken.
2024-07-17 16:49:08.410 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+GenerateTokenContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Protection+BeautifyToken.
2024-07-17 16:49:08.412 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+GenerateAccessToken.
2024-07-17 16:49:08.414 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomSignInParameters.
2024-07-17 16:49:08.418 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachSignInParameters.
2024-07-17 16:49:08.423 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:49:08.426 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.428 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.430 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.433 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3597
}.
2024-07-17 16:49:08.435 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.436 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.438 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:08.442 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessSignInContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:56.974 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:49:56.981 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:49:56.982 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:49:56.982 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:49:56.984 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:49:56.985 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:56.986 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:56.987 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:56.988 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Backoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:49:56.989 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:49:56.990 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:49:56.992 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:49:56.993 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:49:56.994 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:49:56.995 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:49:56.996 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:49:56.997 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:49:56.998 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:49:56.999 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:49:57.000 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:49:57.002 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:49:57.003 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:49:57.004 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:49:57.005 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:49:57.058 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:49:57.060 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:49:57.069 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:49:57.070 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:49:57.071 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:49:57.072 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:49:57.074 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:49:57.076 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:49:57.077 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:49:57.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:49:57.079 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:49:57.080 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:49:57.081 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:49:57.082 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:49:57.082 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:49:57.084 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:49:57.085 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:57.086 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:49:57.087 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:49:57.088 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:49:57.089 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:49:57.090 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:55:28.140 +01:00 [INF] Seeding database...
2024-07-17 16:55:28.166 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:55:28.733 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:55:28.734 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:55:28.734 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:55:28.734 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:57:04.105 +01:00 [INF] Seeding database...
2024-07-17 16:57:04.151 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 16:57:04.932 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:57:04.937 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:57:04.938 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:57:04.939 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 16:57:08.556 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 16:57:08.560 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 16:57:08.561 +01:00 [INF] Hosting environment: Development
2024-07-17 16:57:08.562 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 16:57:10.260 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:10.553 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:10.769 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.044 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.149 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.279 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 16:57:11.482 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.487 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:11.490 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:11.516 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.530 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:57:11.547 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.556 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.558 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:11.560 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:11.561 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.563 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:57:11.620 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.623 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.624 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:11.626 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:11.628 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.631 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:57:11.638 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:11.640 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.642 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:11.644 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:11.646 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:11.647 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:57:11.707 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:31.788 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:31.791 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:31.793 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:57:31.796 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:31.797 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:31.807 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:31.810 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:31.811 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:31.816 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Backoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:57:31.817 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:57:31.820 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:57:31.822 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:57:31.823 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:57:31.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:57:31.825 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:57:31.826 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:57:31.827 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:57:31.829 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:57:31.831 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:57:31.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:57:31.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:57:31.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:57:31.840 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:57:31.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:57:31.932 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:57:31.936 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:57:31.956 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:57:31.959 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:57:31.961 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:57:31.967 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:57:31.970 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:57:31.973 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopePermissions.
2024-07-17 16:57:31.974 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeRequirement.
2024-07-17 16:57:31.976 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidatePresenters.
2024-07-17 16:57:31.977 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRedirectUri.
2024-07-17 16:57:31.978 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateCodeVerifier.
2024-07-17 16:57:31.980 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantedScopes.
2024-07-17 16:57:31.981 +01:00 [INF] The token request was successfully validated.
2024-07-17 16:57:31.982 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:57:31.986 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+AttachPrincipal.
2024-07-17 16:57:31.988 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:31.989 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext was marked as skipped by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+EnablePassthroughMode`2[[OpenIddict.Server.OpenIddictServerEvents+HandleTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f],[OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlerFilters+RequireTokenEndpointPassthroughEnabled, OpenIddict.Server.AspNetCore, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:31.990 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:57:31.991 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as skipped by OpenIddict.Server.OpenIddictServerHandlers+Exchange+HandleTokenRequest.
2024-07-17 16:57:31.993 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:31.994 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 16:57:36.321 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveHostChallengeProperties.
2024-07-17 16:57:36.324 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateChallengeDemand.
2024-07-17 16:57:36.326 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHostChallengeError.
2024-07-17 16:57:36.328 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachDefaultChallengeError.
2024-07-17 16:57:38.485 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RejectDeviceCodeEntry.
2024-07-17 16:57:38.488 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+RejectUserCodeEntry.
2024-07-17 16:57:38.489 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomChallengeParameters.
2024-07-17 16:57:38.492 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:57:38.493 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.494 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.496 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.498 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "Invalid username/email or password.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2024"
}.
2024-07-17 16:57:38.501 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.502 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.503 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.504 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessChallengeContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:38.505 +01:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2024-07-17 16:57:55.725 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:55.727 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:55.728 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:57:55.729 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:55.731 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:55.732 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.734 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.735 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.736 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:57:55.736 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:57:55.737 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:57:55.740 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:57:55.741 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:57:55.742 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:57:55.743 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:57:55.744 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:57:55.745 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:57:55.746 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:57:55.747 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:57:55.748 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:57:55.749 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:57:55.750 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:57:55.751 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:57:55.752 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:57:55.810 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:57:55.813 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:57:55.822 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:57:55.824 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:57:55.825 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:57:55.826 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:57:55.827 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:57:55.829 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:57:55.831 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:57:55.832 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:57:55.833 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:57:55.834 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:57:55.836 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:57:55.837 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:57:55.838 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.840 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.841 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.842 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:57:55.843 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.844 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.846 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:55.846 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.064 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 16:57:58.066 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 16:57:58.067 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 16:57:58.068 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 16:57:58.069 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 16:57:58.070 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.071 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.072 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.073 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 16:57:58.074 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 16:57:58.075 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 16:57:58.076 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 16:57:58.077 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 16:57:58.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 16:57:58.078 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 16:57:58.079 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 16:57:58.080 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 16:57:58.081 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 16:57:58.082 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 16:57:58.084 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 16:57:58.084 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 16:57:58.086 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 16:57:58.087 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 16:57:58.087 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 16:57:58.141 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 16:57:58.142 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 16:57:58.151 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 16:57:58.153 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 16:57:58.154 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 16:57:58.155 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 16:57:58.156 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 16:57:58.158 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:57:58.159 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 16:57:58.160 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:57:58.161 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 16:57:58.162 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 16:57:58.163 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 16:57:58.164 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 16:57:58.165 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.166 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.167 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.168 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 16:57:58.169 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.170 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.171 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 16:57:58.173 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 17:06:41.897 +01:00 [INF] Seeding database...
2024-07-17 17:06:41.935 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:08:35.162 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:08:35.166 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:08:35.167 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:08:35.168 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:08:45.582 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 17:08:45.584 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 17:08:45.586 +01:00 [INF] Hosting environment: Development
2024-07-17 17:08:45.586 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 17:08:46.836 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:46.995 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.297 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.304 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.423 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.447 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 17:08:47.634 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.638 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 17:08:47.641 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 17:08:47.669 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.682 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 17:08:47.695 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.706 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.708 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 17:08:47.709 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 17:08:47.710 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.711 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 17:08:47.760 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.761 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.763 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 17:08:47.764 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 17:08:47.765 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.767 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 17:08:47.770 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:08:47.772 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.774 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 17:08:47.775 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 17:08:47.777 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 17:08:47.778 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 17:08:47.830 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 17:35:20.380 +01:00 [INF] Seeding database...
2024-07-17 17:35:20.406 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:35:20.518 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:35:20.526 +01:00 [INF] Shut down complete
2024-07-17 17:35:42.837 +01:00 [INF] Seeding database...
2024-07-17 17:35:42.870 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:35:43.143 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:35:43.167 +01:00 [INF] Shut down complete
2024-07-17 17:36:10.528 +01:00 [INF] Seeding database...
2024-07-17 17:36:10.568 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:36:21.631 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:36:22.376 +01:00 [INF] Shut down complete
2024-07-17 17:36:30.482 +01:00 [INF] Seeding database...
2024-07-17 17:36:30.518 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:36:35.844 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:36:35.856 +01:00 [INF] Shut down complete
2024-07-17 17:38:42.293 +01:00 [INF] Seeding database...
2024-07-17 17:38:42.328 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:38:59.722 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:38:59.726 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:38:59.728 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:38:59.729 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 17:39:09.353 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:39:09.365 +01:00 [INF] Shut down complete
2024-07-17 17:41:16.762 +01:00 [INF] Seeding database...
2024-07-17 17:41:16.810 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 17:41:19.535 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 48
2024-07-17 17:41:19.560 +01:00 [INF] Shut down complete
2024-07-17 17:42:58.774 +01:00 [INF] Seeding database...
2024-07-17 17:42:58.904 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 17:42:58.910 +01:00 [INF] Shut down complete
2024-07-17 17:43:03.985 +01:00 [INF] Seeding database...
2024-07-17 17:43:06.542 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 57
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 17:43:06.561 +01:00 [INF] Shut down complete
2024-07-17 17:57:33.503 +01:00 [INF] Seeding database...
2024-07-17 17:57:40.856 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: A suitable constructor for type 'OpenIddict.Core.OpenIddictApplicationManager`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 63
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 17:57:40.882 +01:00 [INF] Shut down complete
2024-07-17 17:59:01.084 +01:00 [INF] Seeding database...
2024-07-17 17:59:02.405 +01:00 [FTL] Unhandled exception
System.InvalidCastException: Unable to cast object of type 'Microsoft.Extensions.Caching.Memory.MemoryCache' to type 'OpenIddict.Abstractions.IOpenIddictApplicationCache`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]'.
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 63
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 17:59:02.431 +01:00 [INF] Shut down complete
2024-07-17 17:59:11.434 +01:00 [INF] Seeding database...
2024-07-17 17:59:25.022 +01:00 [FTL] Unhandled exception
System.InvalidCastException: Unable to cast object of type 'Microsoft.Extensions.Caching.Memory.MemoryCache' to type 'OpenIddict.Abstractions.IOpenIddictApplicationCache`1[OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication]'.
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 63
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 17:59:25.615 +01:00 [INF] Shut down complete
2024-07-17 18:01:53.035 +01:00 [INF] Seeding database...
2024-07-17 18:02:00.423 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:00.426 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:00.427 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:00.428 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:02.179 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserClaim'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:02.180 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserLogin'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:02.183 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:02.184 +01:00 [WRN] Entity 'ApplicationUser' has a global query filter defined and is the required end of a relationship with the entity 'ApplicationUserToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2024-07-17 18:02:17.252 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 18:02:18.225 +01:00 [INF] Now listening on: http://localhost:4480
2024-07-17 18:02:18.228 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 18:02:18.229 +01:00 [INF] Hosting environment: Development
2024-07-17 18:02:18.231 +01:00 [INF] Content root path: C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService
2024-07-17 18:02:19.662 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:19.852 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.098 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.106 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.209 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.237 +01:00 [WRN] Failed to determine the https port for redirect.
2024-07-17 18:02:20.411 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.415 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 18:02:20.417 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 18:02:20.446 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.454 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 18:02:20.469 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.476 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.477 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 18:02:20.478 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 18:02:20.480 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.481 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 18:02:20.525 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.528 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.529 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 18:02:20.530 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 18:02:20.531 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.532 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 18:02:20.535 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:02:20.537 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.538 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 18:02:20.539 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 18:02:20.540 +01:00 [DBG] The event OpenIddict.Validation.OpenIddictValidationEvents+ProcessRequestContext was successfully processed by OpenIddict.Validation.AspNetCore.OpenIddictValidationAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:02:20.541 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-17 18:02:20.591 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:03:16.355 +01:00 [WRN] Unable to identify tenant from query string. Falling back to default.
2024-07-17 18:03:16.358 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ResolveRequestUri.
2024-07-17 18:03:16.361 +01:00 [INF] The request URI matched a server endpoint: "Token".
2024-07-17 18:03:16.364 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+InferEndpointType.
2024-07-17 18:03:16.365 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateHostHeader.
2024-07-17 18:03:16.378 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractPostRequest`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.381 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ValidateClientAuthenticationMethod`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.383 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ExtractBasicAuthenticationCredentials`1[[OpenIddict.Server.OpenIddictServerEvents+ExtractTokenRequestContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.387 +01:00 [INF] The token request was successfully extracted: {
  "scope": "EConculsatMA offline_access",
  "grant_type": "password",
  "client_id": "m2m.SchoolSaas.Frontoffice",
  "client_secret": "[redacted]",
  "username": "charafeddine.mojahid@gmail.com",
  "password": "[redacted]"
}.
2024-07-17 18:03:16.387 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ExtractTokenRequest.
2024-07-17 18:03:16.390 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantType.
2024-07-17 18:03:16.392 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientIdParameter.
2024-07-17 18:03:16.394 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthorizationCodeParameter.
2024-07-17 18:03:16.395 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateClientCredentialsParameters.
2024-07-17 18:03:16.397 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateDeviceCodeParameter.
2024-07-17 18:03:16.398 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateRefreshTokenParameter.
2024-07-17 18:03:16.399 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateResourceOwnerCredentialsParameters.
2024-07-17 18:03:16.400 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateScopeParameter.
2024-07-17 18:03:16.401 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateProofKeyForCodeExchangeParameters.
2024-07-17 18:03:16.404 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateAuthenticationDemand.
2024-07-17 18:03:16.406 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+EvaluateValidatedTokens.
2024-07-17 18:03:16.408 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveValidatedTokens.
2024-07-17 18:03:16.410 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateRequiredTokens.
2024-07-17 18:03:16.412 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientAssertion.
2024-07-17 18:03:16.481 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientId.
2024-07-17 18:03:16.485 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientType.
2024-07-17 18:03:16.501 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ValidateClientSecret.
2024-07-17 18:03:16.505 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessAuthenticationContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+ResolveHostAuthenticationProperties.
2024-07-17 18:03:16.506 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateAuthentication.
2024-07-17 18:03:16.512 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateEndpointPermissions.
2024-07-17 18:03:16.515 +01:00 [INF] The token request was rejected because the application 'm2m.SchoolSaas.Frontoffice' was not allowed to request the 'offline_access' scope.
2024-07-17 18:03:16.517 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 18:03:16.518 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ValidateTokenRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateGrantTypePermissions.
2024-07-17 18:03:16.520 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 18:03:16.522 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessRequestContext was marked as rejected by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ValidateTokenRequest.
2024-07-17 18:03:16.524 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachErrorParameters.
2024-07-17 18:03:16.526 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+AttachCustomErrorParameters.
2024-07-17 18:03:16.529 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+NormalizeErrorResponse.
2024-07-17 18:03:16.530 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachHttpResponseCode`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.531 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachCacheControlHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.533 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+AttachWwwAuthenticateHeader`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.535 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}.
2024-07-17 18:03:16.537 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was successfully processed by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.538 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext was marked as handled by OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandlers+ProcessJsonResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ApplyTokenResponseContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.539 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was successfully processed by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:03:16.540 +01:00 [DBG] The event OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext was marked as handled by OpenIddict.Server.OpenIddictServerHandlers+Exchange+ApplyTokenResponse`1[[OpenIddict.Server.OpenIddictServerEvents+ProcessErrorContext, OpenIddict.Server, Version=5.2.0.0, Culture=neutral, PublicKeyToken=35a561290d20de2f]].
2024-07-17 18:13:02.038 +01:00 [INF] Seeding database...
2024-07-17 18:13:02.178 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 60
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:13:02.183 +01:00 [INF] Shut down complete
2024-07-17 18:13:07.994 +01:00 [INF] Seeding database...
2024-07-17 18:13:09.887 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 60
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:13:09.919 +01:00 [INF] Shut down complete
2024-07-17 18:19:21.639 +01:00 [INF] Seeding database...
2024-07-17 18:19:21.772 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:19:21.778 +01:00 [INF] Shut down complete
2024-07-17 18:19:27.193 +01:00 [INF] Seeding database...
2024-07-17 18:19:31.860 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:19:31.887 +01:00 [INF] Shut down complete
2024-07-17 18:22:31.443 +01:00 [INF] Seeding database...
2024-07-17 18:22:31.580 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:22:31.585 +01:00 [INF] Shut down complete
2024-07-17 18:22:53.998 +01:00 [INF] Seeding database...
2024-07-17 18:22:59.245 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 41
2024-07-17 18:22:59.270 +01:00 [INF] Shut down complete
2024-07-17 18:23:51.829 +01:00 [INF] Seeding database...
2024-07-17 18:23:51.854 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 18:23:51.962 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 49
2024-07-17 18:23:51.967 +01:00 [INF] Shut down complete
2024-07-17 18:23:57.115 +01:00 [INF] Seeding database...
2024-07-17 18:23:57.159 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 18:24:01.904 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 49
2024-07-17 18:24:01.924 +01:00 [INF] Shut down complete
2024-07-17 18:26:05.707 +01:00 [INF] Seeding database...
2024-07-17 18:26:05.733 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 18:26:05.858 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 49
2024-07-17 18:26:05.863 +01:00 [INF] Shut down complete
2024-07-17 18:26:14.575 +01:00 [INF] Seeding database...
2024-07-17 18:26:14.620 +01:00 [INF] Done seeding database. Exiting.
2024-07-17 18:26:17.073 +01:00 [FTL] Unhandled exception
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'SchoolSaas.Infrastructure.Identity.Identity.Stores.CustomApplicationStoreResolver' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at SchoolSaas.Infrastructure.Identity.Identity.ManagerPicker.GetApplicationManager(DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\Identity\ManagerPicker.cs:line 58
   at SchoolSaas.Infrastructure.Identity.SeedData.SeedDatabase(IServiceScope scope, ManagerPicker managerPicker, DbContext context) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 31
   at SchoolSaas.Infrastructure.Identity.SeedData.EnsureSeedData(WebApplication app) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Infrastructure.Identity\SeedData.cs:line 22
   at Program.<Main>$(String[] args) in C:\Users\chara\source\repos\SchoolSaas\src\SchoolSaas.Web.IdentityService\Program.cs:line 49
2024-07-17 18:26:17.099 +01:00 [INF] Shut down complete
